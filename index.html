<!DOCTYPE html>
<html>

<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="apple-touch-icon" href="launch.png">
  <link rel="apple-touch-startup-image" href="launch.png">
  <meta name="apple-mobile-web-app-title" content="Korero">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">



</head>


<body>

  <audio id="steam" src="steam.mp3"></audio>
  <audio id="seagull" src="seagull.mp3"></audio>

  <button id="start" class="button">start</button><br>
  <button id="ee" class="button">steam engine</button><br>
  <button id="oo" class="button">seagull</button><br>
  <input type="range" min="1" max="1" value="5" id="steamGainNodeSlider">


  <script>
    steam = 0;
    steamGainNode =0;

    start = () => {

      audioCtx = new AudioContext || window.webkitAudioContext;

      steamAudioElement = document.getElementById("steam");
      steamTrack = audioCtx.createMediaElementSource(steamAudioElement);
      seagullAudioElement = document.getElementById("seagull");
      seagullTrack = audioCtx.createMediaElementSource(seagullAudioElement);
    }


    playSound = (track, audioElement, gainNode) => {
      track.connect(audioCtx.destination);
      gainNode = audioCtx.createGain();
      audioElement.play();
    }

    document.getElementById("start").addEventListener("click", () => {
      start();
    });

    document.getElementById("ee").addEventListener("click", () => {
      playSound(steamTrack, steamAudioElement, steamGainNode);
    });
    document.getElementById("oo").addEventListener("click", () => {
      playSound(seagullTrack, seagullAudioElement, seagullGainNode);
    });

    steamGainNodeSlider.oninput = function() {
      steamGainNode = this.value;
    }


  </script>

  v7
</body>

</html>
